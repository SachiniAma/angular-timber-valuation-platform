<h3 mat-title>Stumpage Assessment</h3>

<mat-card>

  <!-- Main Form -->

  <form id="forestForm" [formGroup]="forestForm" (ngSubmit)="onSubmit()" class="mat-form">
    <div class="form-field-container">
      <mat-form-field>
        <input matInput formControlName="id">
      </mat-form-field>

      <mat-form-field>
        <input formControlName="division" matInput placeholder="Division">
      </mat-form-field>

      <mat-form-field>
        <input formControlName="beat" matInput placeholder="Beat">
      </mat-form-field>

      <mat-form-field>
        <input formControlName="range" matInput placeholder="Range">
      </mat-form-field>

      <mat-form-field style="width: 47%">
        <input formControlName="block" matInput placeholder="Block">
      </mat-form-field>

      <mat-form-field style="width: 47%">
        <input formControlName="sBlock" matInput placeholder="S.Block">
      </mat-form-field>

      <mat-form-field>
        <mat-select formControlName="species" placeholder="Species">
          <mat-option *ngFor='let tree of trees' [value]="tree">{{tree.species}}</mat-option>
        </mat-select>
      </mat-form-field>

    </div>
  </form>
</mat-card>

<!-- Logs -->
<h4>Logs</h4>

<mat-card>
  <form>

    <div class="form-field-container">
      <mat-form-field style="width: 20%; min-width: 7.4em">
        <input matInput [(ngModel)]="mgClass" name="mgClass" placeholder="Mid-Girth Class">
      </mat-form-field>

      <mat-form-field style="width: 20%; min-width: 9em">
        <mat-label>Felled Volume (m<sup>3</sup>)</mat-label>
        <input matInput [(ngModel)]="volume" name="volume">
      </mat-form-field>
      <button mat-mini-fab color="primary" (click)="addFieldValue()">
        <mat-icon>add</mat-icon>
      </button>
    </div>

  </form>

  <div class="table-container">
    <mat-table #table [dataSource]="logsDataSource" [class.isMobile]="isMobile">
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let row">
          <button mat-button color="warn" (click)="deleteFieldValue(row)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <ng-container matColumnDef="mgClass">
        <th mat-header-cell *matHeaderCellDef> Mid-Girth Class </th>
        <td mat-cell *matCellDef="let log">
          <span class="mobile-label">Mid-Girth Class:</span>
          {{ log.mgClass }}
        </td>
      </ng-container>

      <ng-container matColumnDef="volume">
        <th mat-header-cell *matHeaderCellDef>
          Felled Volume
        </th>
        <td mat-cell *matCellDef="let log">
          <span class="mobile-label">Volume:<br></span>
          {{ log.volume }}
          <br class="mobile-label">
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="logsDisplayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: logsDisplayedColumns;"></tr>
    </mat-table>
  </div>
</mat-card>
<!-- Logs -->

<!-- Actions -->

<button mat-raised-button color="primary" type="submit" form="forestForm">SUBMIT</button>